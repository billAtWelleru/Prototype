/* Mobile phone simulation shell with accolades */
:root{ --bg:#FAFAFA; --sand:#F5EBD6; --blue:#A7C7E7; --sage:#BFD8B8; --charcoal:#333; --b:#e7e7e7; --coral:#FF6B6B; }
:root.high-contrast{ --bg:#fff; --sand:#fff8e1; --blue:#224488; --sage:#1f7a1f; --charcoal:#000; --b:#000; --coral:#b00020; }
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; background:linear-gradient(135deg,#eceff1,#ffffff); font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--charcoal)}

.phone{ width:390px; height:780px; margin:24px auto; border:12px solid #111; border-bottom-width:20px; border-radius:40px; box-shadow:0 20px 60px rgba(0,0,0,.25); background:var(--bg); position:relative; overflow:hidden }
.statusbar{ height:22px; display:flex; align-items:center; justify-content:space-between; padding:0 12px; font-size:12px; background:rgba(0,0,0,.03)}
.appbar{ height:52px; display:flex; align-items:center; gap:8px; padding:0 12px; background:var(--sand); border-bottom:1px solid var(--b); position:sticky; top:0; z-index:2 }
.appbar .title{ font-weight:700; font-size:16px; flex:1; text-align:center }
.iconbtn{ appearance:none; background:transparent; border:0; font-size:20px; line-height:1; padding:6px; border-radius:10px }
.iconbtn:focus{ outline:2px solid var(--blue) }

.sidemenu{ position:absolute; top:0; left:0; width:78%; height:100%; background:#fff; border-right:1px solid var(--b); padding:16px; z-index:5; box-shadow:8px 0 24px rgba(0,0,0,.15)}
.sidemenu .item, .sidemenu .close{ display:block; width:100%; text-align:left; padding:10px 8px; margin:2px 0; border:1px solid var(--b); background:#fff; border-radius:10px; text-decoration:none; color:inherit }

.screen{ position:absolute; top:74px; bottom:64px; left:0; right:0; overflow:auto; padding:12px }

.card{ background:#fff; border:1px solid var(--b); border-radius:14px; padding:12px; margin-bottom:12px; box-shadow:0 1px 1px rgba(0,0,0,.04) }
.h1{ font-weight:800; font-size:18px; margin:6px 0 10px }
.h2{ font-weight:700; font-size:16px; margin:6px 0 8px }

.input, select, textarea{ width:100%; padding:12px; border:1px solid var(--b); border-radius:12px; font-size:16px }
.btn{ width:100%; padding:12px; border-radius:12px; border:1px solid var(--b); background:var(--sage); font-weight:700; cursor:pointer; font-size:16px }
.btn.ghost{ background:#fff }

.progress{ height:10px; background:#eee; border-radius:999px; overflow:hidden }
.progress>span{ display:block; height:100%; background:var(--sage) }
.kpi{ display:flex; align-items:center; justify-content:space-between; font-size:14px }

.grid{ display:grid; grid-template-columns:1fr; gap:10px }

.tabbar{ position:absolute; left:0; right:0; bottom:0; height:64px; background:#fff; border-top:1px solid var(--b); display:flex; align-items:center; justify-content:space-around }
.tab{ display:flex; flex-direction:column; align-items:center; gap:2px; text-decoration:none; color:inherit; font-size:12px; padding:6px 8px; border-radius:10px }
.tab.active{ background:var(--blue) }

.badge{ display:inline-block; padding:2px 6px; background:var(--blue); border-radius:999px; font-size:12px }

.form-row{ display:flex; flex-direction:column; gap:6px }

.checkbox-row{ display:flex; flex-direction:row; gap:8px; align-items:flex-start; font-size:14px; line-height:1.4 }
.checkbox-row input[type='checkbox']{ margin-top:3px; cursor:pointer; accent-color:var(--sage) }
.checkbox-row span{ flex:1 }
.checkbox-row a{ color:var(--blue); text-decoration:underline }

/* overlay & accolades */
.overlay{ position:absolute; inset:0; pointer-events:none; z-index:6 }
.confetti-canvas{ position:absolute; inset:0; pointer-events:none }
.accolade{ position:absolute; left:10px; right:10px; top:78px; background:#fff; border:2px solid var(--blue); border-radius:16px; box-shadow:0 12px 30px rgba(0,0,0,.18); padding:12px; display:flex; gap:10px; align-items:center; pointer-events:auto }
.accolade .icon{ font-size:22px }
.accolade .content{ flex:1 }
.accolade .title{ font-weight:800 }
.accolade .subtitle{ font-size:13px; opacity:.85 }
.accolade .actions{ display:flex; gap:8px }
.accolade .btn-inline{ padding:8px 10px; border-radius:10px; border:1px solid var(--b); background:var(--blue); font-weight:700; cursor:pointer }
.accolade .close{ background:#fff }

/* celebration screen */
.celebration-screen{ position:relative; height:100%; display:flex; flex-direction:column; align-items:center; justify-content:space-around; padding:20px; background:linear-gradient(135deg, var(--sand), var(--blue)); text-align:center }
.trophy-wrapper{ display:flex; align-items:center; justify-content:center; height:120px }
.trophy{ font-size:80px; animation:bounce 2s ease-in-out infinite }
@keyframes bounce{ 0%, 100%{ transform:translateY(0) } 50%{ transform:translateY(-20px) } }
.celebration-content{ flex:1; display:flex; flex-direction:column; justify-content:center; gap:8px }
.milestone-title{ font-weight:800; font-size:28px; color:var(--charcoal) }
.reward-amount{ font-weight:800; font-size:48px; color:var(--coral); line-height:1 }
.reward-text{ font-size:16px; color:var(--charcoal); opacity:.75 }
.celebration-actions{ width:100%; display:flex; flex-direction:column; gap:10px }
.celebration-btn{ min-height:50px; font-size:16px; font-weight:700 }
.celebration-confetti{ position:absolute; inset:0; pointer-events:none }

@media (prefers-reduced-motion: reduce){
  .confetti-canvas{ display:none }
  .trophy{ animation:none }
}
